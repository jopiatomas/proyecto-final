<header>
  <div class="barra">
    <a class="logo" routerLink="/restaurante">
      <img src="/img-quickish-header.png" alt="Quickish" class="logo-img" />
    </a>

    <nav class="tabs">
      <a routerLink="/restaurante/menu" routerLinkActive="active">Menú</a>
      <a routerLink="/restaurante/resenias" routerLinkActive="active">Reseñas</a>
      <a routerLink="/restaurante/historial" routerLinkActive="active">Historial de Pedidos</a>
    </nav>

    <div class="derecha">
      <button 
        class="btn-accion" 
        (click)="esPaginaPrincipal ? cerrarSesion() : volver()"
        [attr.aria-label]="esPaginaPrincipal ? 'Cerrar sesión' : 'Volver atrás'"
      >
        {{ esPaginaPrincipal ? 'Cerrar Sesión' : 'Volver' }}
      </button>
      
      <a class="perfil" routerLink="/restaurante/perfil" aria-label="Perfil">
        @if (authService.currentUser(); as usuario) {
          <span class="usuario-nombre">{{ usuario.nombre }}</span>
        }
        <img src="/image.png" alt="Perfil del usuario" />
      </a>
    </div>
  </div>
</header>

<!-- Modal de confirmación para cerrar sesión -->
@if (confirmandoCerrarSesion) {
<div class="modal-overlay" (click)="cancelarCerrarSesion()">
  <div class="modal-content-confirm" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Cerrar Sesión</h3>
      <button class="close-modal-btn" (click)="cancelarCerrarSesion()">×</button>
    </div>
    <div class="modal-body">
      <p>¿Estás seguro de que deseas cerrar sesión?</p>
    </div>
    <div class="modal-actions">
      <button class="btn-confirmar" (click)="confirmarCerrarSesion()">Cerrar Sesión</button>
      <button class="btn-cancelar-modal" (click)="cancelarCerrarSesion()">Cancelar</button>
    </div>
  </div>
</div>
}
