<header>
  <div class="barra">
    <a class="logo" routerLink="/restaurante">
      <img src="/img-quickish-header.png" alt="Quickish" />
    </a>

    <nav class="tabs">
      <a routerLink="/restaurante/menu" routerLinkActive="active">Menú</a>
      <a routerLink="/restaurante/resenias" routerLinkActive="active">Reseñas</a>
      <a routerLink="/restaurante/historial" routerLinkActive="active">Historial de Pedidos</a>
    </nav>

    <div class="perfil-container">
      <button class="perfil" aria-label="Perfil" (click)="toggleDropdown()">
        <img src="/image.png" alt="Perfil del usuario" />
      </button>

      @if (dropdownOpen()) {
      <div class="dropdown-menu">
        <a routerLink="/restaurante/perfil" class="dropdown-item"> Mi Perfil </a>
        <a routerLink="/restaurante/direcciones" class="dropdown-item"> Direcciones </a>
        <a routerLink="/restaurante/balance" class="dropdown-item"> Balance </a>
        <div class="dropdown-divider"></div>
        <button (click)="cerrarSesion()" class="dropdown-item logout">Cerrar Sesión</button>
      </div>
      }
    </div>
  </div>
</header>

<!-- Modal de confirmación para cerrar sesión -->
@if (confirmandoCerrarSesion) {
<div class="modal-overlay" (click)="cancelarCerrarSesion()">
  <div class="modal-content-confirm" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Cerrar Sesión</h3>
      <button class="close-modal-btn" (click)="cancelarCerrarSesion()">×</button>
    </div>
    <div class="modal-body">
      <p>¿Estás seguro de que deseas cerrar sesión?</p>
    </div>
    <div class="modal-actions">
      <button class="btn-confirmar" (click)="confirmarCerrarSesion()">Cerrar Sesión</button>
      <button class="btn-cancelar-modal" (click)="cancelarCerrarSesion()">Cancelar</button>
    </div>
  </div>
</div>
}
