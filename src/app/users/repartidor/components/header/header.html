<header [class.inactive]="!repartidorEstadoService.activo()">
  <div class="barra">
    <a class="logo" routerLink="/repartidor">
      <img src="/img-quickish-header.png" alt="Quickish" class="logo-img" />
    </a>

    <nav class="tabs">
      <a [routerLink]="repartidorEstadoService.activo() ? '/repartidor/pedidos-disponibles' : null" 
         routerLinkActive="active"
         [class.disabled]="!repartidorEstadoService.activo()">Pedidos Disponibles</a>
      <a [routerLink]="repartidorEstadoService.activo() ? '/repartidor/ver-pedido-actual' : null" 
         routerLinkActive="active"
         [class.disabled]="!repartidorEstadoService.activo()">Pedido Actual</a>
      <a [routerLink]="repartidorEstadoService.activo() ? '/repartidor/historial-entregas' : null" 
         routerLinkActive="active"
         [class.disabled]="!repartidorEstadoService.activo()">Historial</a>
    </nav>

    <div class="derecha">
      <button
        class="btn-accion"
        (click)="isLandingPage ? logout() : goBack()"
        [attr.aria-label]="isLandingPage ? 'Cerrar sesión' : 'Volver atrás'"
      >
        {{ isLandingPage ? 'Cerrar Sesión' : 'Volver' }}
      </button>

      <a class="perfil" routerLink="/repartidor/perfil" aria-label="Perfil">
        @if (authService.currentUser(); as usuario) {
        <span class="usuario-nombre">{{ usuario.nombre }}</span>
        }
        <img src="/image.png" alt="Perfil del usuario" />
      </a>
    </div>
  </div>
</header>

<!-- Modal de confirmación para cerrar sesión -->
@if (confirmandoCerrarSesion) {
<div class="modal-overlay" (click)="cancelarCerrarSesion()">
  <div class="modal-content-confirm" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Cerrar Sesión</h3>
      <button class="close-modal-btn" (click)="cancelarCerrarSesion()">×</button>
    </div>
    <div class="modal-body">
      <p>¿Estás seguro de que deseas cerrar sesión?</p>
    </div>
    <div class="modal-actions">
      <button class="btn-confirmar" (click)="confirmarCerrarSesion()">Cerrar Sesión</button>
      <button class="btn-cancelar-modal" (click)="cancelarCerrarSesion()">Cancelar</button>
    </div>
  </div>
</div>
}
